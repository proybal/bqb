{% extends 'news/base.html' %}
{% load static %}


{% block title %}
    <title>Albuquerque News</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
{% endblock title %}
{% block style %}
    <style>
        img {
            border: 1px;
            border-radius: 8px;
        }

        .thumbnail {
            border: 1px solid grey;
            border-radius: 5px;
        }

        .card {
            border: 1px solid black;
            border-radius: 8px;
        }

        p {
            line-height: 1.3;
            padding: 10px;
        }

        .buffer {
            margin-bottom: 0px;
            margin-top: 0px;
        }

        /* Rounded border */
        hr.rounded {
            border-top: 2px solid cornflowerblue;
            border-radius: 5px;
        }
    </style>
{% endblock %}

{% block body %}
    <div class="container-fluid">
    <div style="text-align: center; color: blue; font-size: large">
        <h6 style="font-size: large">{{ category }} News</h6>
    </div>
    {% if forloop.first %}
        <div class="row">
    {% endif %}
{% for n in news %}
    {% if n.img %}
        <div class="col mx-md-0">
            <div class="card mb-3 mx-0" style="width: 15rem;">
                    <div class="card-body">
                        <div class="card-img-top">
                        <p style="font-size: xx-small; text-align: center;"><a href="{{ n.source_url }}"> <img
                                class="thumbnail mx-auto"
                                src="{{ MEDIA_URL }}{{ n.thumbnail }}"
                                width="40px"
                                height="40px"
                                alt="img"></a>
                            {{ n.source }}</p>
                        <hr class="rounded"></hr>
                    </div>

                    {% if n.img %}
                        <a href="{{ n.img }}"> <img class="mx-auto d-block" src="{{ n.img }}" width="75%"
                                                    alt="img"></a>
                    {% endif %}
                    <a href="{{ n.url }}"><p
                            style="color: black; font-size: x-small; padding: 0px; margin: 0px">{{ n.title }}</p>
                    </a>
                    <p style="font-size: x-small; margin-bottom: 3px">{{ n.body }}</p>
                    <p style="font-size: xx-small; margin-bottom: 1px;">Published: {{ n.published }}</p>
                    {% if n.updated %}
                        <p style="font-size: xx-small">Updated: {{ n.updated }}</p>
                    {% endif %}
                </div>
            </div>
            {% if forloop.counter|divisibleby:3 %}
                </div>
                <div class="row">
            {% endif %}
            {% if forloop.last %}
                </div>
            {% endif %}
    {% endif %}
{% endfor %}
</div>
{% endblock %}

{% block script %}
    <script
            src="http://code.jquery.com/jquery-3.3.1.min.js"
            integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>
{% endblock %}